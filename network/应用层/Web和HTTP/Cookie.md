- 既然[[HTTP]]服务器是无状态的，那么服务器如何限制用户、识别特定用户，并定制化给出响应数据？即用户如何与服务器的交互？
- 使用cookie对用户进行跟踪

### 组成
1. [[HTTP报文格式#响应报文|HTTP响应报文]]中cookie首部行
2. [[HTTP报文格式#请求报文|HTTP请求报文]]中cookie首部行
3. 用户端系统保存一个cookie文件，由浏览器管理
4. web服务器的一个数据库

### 工作过程
1. 小明之前已经访问过`www.jd.com`
2. 现在用chrome浏览器首次访问网站`www.taobao.com`
3. 当请求到达taobao服务器，该站点生成一个唯一识别码，作为索引在数据库中存储
4. 服务器将该识别码放入响应报文中set-cookie首部中，进行响应，如`Set-cookie:1667`
5. 响应到达小明的浏览器后，浏览器会将set-cookie首部添加到特定的cookie文件中，包含服务器主机名和cookie值识别码。该文件中有`www.jd.com`站点的cookie表项
6. 之后每次访问`www.taobao.com`站点的页面，浏览器都会从cookie文件中取到该网站的cookie值，并放入请求报文的cookie首部中，所以每次请求都会有该首部`Cookie:1667`
7. taobao服务器可以根据该cookie值跟踪小明这个用户在该站点的动作
8. 还可以通过cookie拿到之前注册到该网站时的信息，可能包括姓名、电子邮件等

![[cookie工作过程.png]]
### 作用
- 在无状态的HTTP之上建立了一个**用户会话层**

### 缺点
- 可能暴露用户隐私