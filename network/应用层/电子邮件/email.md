- 是一种异步通信方式，即想发就发，想收就收，不必实时协调
- 包括文本、附件、超链接、HTML、图片的报文
### 组成部分
##### 用户代理
- user agent
- 即邮件代理
- 用户阅读、回复、转发、保存、撰写报文
- 如Outlook、Apple Mail
##### 邮件服务器
- mail server
- 体系结构核心
- 存储**邮箱（mail）**
- 存储邮件
- 包括发送方邮件服务器和接收方邮件服务器
##### SMTP
- 简单邮件传输协议（Simple Mail Transfer Protocol）
- 见[[SMTP]]
##### 邮件访问协议
- [[POP3]]、[[IMAP]]
![[电子邮件系统.png]]
### 邮件发送接收过程
- Alice撰写完邮件后，[[#用户代理]]（发送方）向其邮件服务器发送邮件
- 邮件传输到发送方的[[#邮件服务器]]后，再传输到接收方[[#邮件服务器]]，再被分发到接收方的邮箱中，此时邮件放在邮件服务器的外出队列中
- Bob（接收方）想要读取该报文时
	1. 使用用户名和口令通过他邮箱的邮件服务器的校验
	2. 他的用户代理从其邮件服务器中取得该报文
- 异常处理：Alice的邮箱服务器不能交付到Bob的服务器时
	- 会在邮件服务器的一个**报文队列（message queue）**中保持该邮件，并每隔30分钟重试一次
	- 当几天后仍不成功，服务器删除该报文，并用电子邮件通知发送方Alice

### 审视该系统
1. 假设在Bob本地PC中放置接收邮件服务器，Alice的邮件服务器直接与Bob的PC对话
	问题：Bob的邮件服务器不可能始终在线
	所以：通常Bob本地运行用户代理程序，来访问存储在总是开机的共享邮件服务器（ISP维护）上的邮箱
2. 假设Alice用户代理直接向Bob的邮件服务器发送邮件，这个可以由[[SMTP]]实现
	问题：Bob的邮件服务器没有开启时，Alice不可能一直等待
	所以：需要先将邮件存放在自己的邮件服务器中，由邮件服务器重复尝试推送
3. 既然Bob中不运行邮件服务器，Bob如何获取邮件呢
	Bob的邮件代理不能使用SMTP，SMTP协议是[[SMTP与HTTP对比#协议特征|推协议]]，不能拉取邮件
	所以：需要用一种拉协议来实现，包括[[POP3]]、[[IMAP]]、[[HTTP]]
	
### 最终系统
![[邮件系统和协议.png]]