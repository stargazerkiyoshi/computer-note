- 第三版邮局协议（Post Ofiice Protocol - Version3）
- 由RFC 1939 定义
- 一种[[email#邮件访问协议]]

###  运行过程
- [[email#用户代理|用户代理]]建立一个到邮件服务器端口110的TCP连接
- POP3按照3个阶段顺序工作：特许（authorization）、事务处理、更新
##### 特许阶段
- 用户代理发送（明文形式）用户名和口令，鉴别用户
##### 事务处理
- 用户代理取回报文
- 报文做删除标记
- 取消删除标记
- 获取邮件统计信息等
##### 更新
- 客户发出quit命令后，结束该POP3会话，服务器正式执行删除

### 报文格式
- 用户代理发出一些命令，服务器对每个命令做出回答。两种：
	1. +OK（可能后面由服务器到客户的数据）：指示前面的命令正常
	2. -ERR：指示前面的命令有错误

##### [[#特许阶段]]报文格式
- [[#特许阶段]]有两个主要命令：user < user name >、pass < password >
- 用Telnet登录POP3服务器的110端口，用上述命令过程如下：
	```
	telnet mailServer 110
	+OK POP3 server ready
	user bob
	+OK
	pass hungry
	+OK user successfully logged
	on
	```
- 当命令拼写错误，服务器会返回一个 -ERR 报文

##### [[#事务处理]]的两种方式及报文格式
- 使用POP3的用户代理通常配置为两种方式：下载并删除、下载并保留
- 两种方式发出的命令序列不同
###### 下载并删除方式
- 用户代理发出：list、retr、dele 命令
例如：(C：代表客户、用户代理；S：代表服务器，邮件服务器。”：“后面的是具体发出的命令)
```
C: list
S: 1 498
S: 2 912
S: .
C: retr 1
S: (blah blah ...
S: .................
S: ...........blah)
S: .
C: dele 1
C: retr 2
S: (blah blah ...
S: .................
S: ...........blah)
S: .
C: dele 2
C: quit
S: +OK POP3 server signing off
```
- 分析报文：
	1. [[email#用户代理|用户代理]]先请求[[email#邮件服务器|邮件服务器]]列出**所有**存储的报文长度 (list命令)
	2. [[email#用户代理|用户代理]]从[[email#邮件服务器|邮件服务器]]取回并删除每个邮件（retr、dele 命令）
	3. quit命令发出后，POP3服务器进入[[#更新]]阶段，从用户邮箱删除邮件1、2
- 该方式不适用与多种设备，因为一种设备浏览后，另一种设备就看不到了

###### 下载并保留方式
- 适用与多种设备，一种设备浏览后，另一种设备就也可以看到

### 会话期间的状态
- 用户代理和邮件服务器之间的POP3会话期间，服务器保留了状态信息，如哪些邮件被标记为删除了
- 但会话过程中不携带状态信息。简化了POP3服务的实现

### 优点
- 协议简单

### 缺点
- 功能有限
- 没有提供创建远程文件夹、为报文指派文件夹的方法
- 想要进行邮件的管理，需要在本地新建文件夹，进行邮件的整理工作，不方便多设备
- 解决方法：使用[[IMAP]]